namespace = ftm_transfer

# 1 - окно выбора флота для передачи
# 2 - определение цены передачи, предложение выбрать ресурс
# 3 - запрос подтверждения продажи
# 4 - уведомление продавцу о продаже
# 5 - уведомление покупателю с предложением купить
# 6 - уведомление продавцу что покупатель отказался купить
# 7 - запрос подтверждения бесплатной передачи флота
# 8 - уведомление получателю флота о подарке
# 9 - уведомление покупателю о нехватке денег для покупки
# 10 - уведомление продавцу о нехватке денег у покупателя
# 11 - уведомление продавцу о совершенной сделке
# 12 - уведомление покупателю о совершенной сделке
# 13 - показ возможных цен (после 2)
# 14 - сообщение что другой игрок уже передает флот
# 15 - ручная настройка цены

# 900 - присвоение глобал флага
# 901 - Окно выбора функций мода для модменю
# 902 - присвоение спецфлага серверу
# 999 - окно настроек
# 991 - настройка возможностей
# 992 - ИИ: продажа
# 993 - ИИ: покупка
# 998 - пересоздание империй мода

# передача флотов наемников, взятых на время - невозможна
# передача федеративного флота - ВОЗМОЖНА (не баг а фича - президент решает что делать с флотом)
# передача особых кораблей, найденных по событиям (корабли угасших, мародеров, левиафанов и т.д.) - ВОЗМОЖНА






# 1 - окно выбора флота для передачи
country_event = {
	id = ftm_transfer.1
	title = "ftm_transfer.1.title"
	desc = "ftm_transfer.1.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = ftm_edict_is_launch
		remove_global_flag = ftm_price_in_energy
		remove_global_flag = ftm_price_in_minerals
		remove_global_flag = ftm_price_in_food
		remove_global_flag = ftm_price_in_goods
		remove_global_flag = ftm_price_in_alloys
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						solar_system = {
							exists = space_owner
							space_owner = {
								is_country_type = default
								has_communications = root
								NOR = {
									is_country = ROOT
									is_at_war_with = ROOT
								}
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					solar_system = {
						exists = space_owner
						space_owner = {
							is_country_type = default
							has_communications = root
							NOR = {
								is_country = ROOT
								is_at_war_with = ROOT
							}
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_transfered_fleet_01
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_transfered_fleet_01_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						solar_system = {
							exists = space_owner
							space_owner = {
								is_country_type = default
								has_communications = root
								NOR = {
									is_country = ROOT
									is_at_war_with = ROOT
								}
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_transfered_fleet_01
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					solar_system = {
						exists = space_owner
						space_owner = {
							is_country_type = default
							has_communications = root
							NOR = {
								is_country = ROOT
								is_at_war_with = ROOT
							}
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_transfered_fleet_01
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_transfered_fleet_02
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_transfered_fleet_02_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						solar_system = {
							exists = space_owner
							space_owner = {
								is_country_type = default
								has_communications = root
								NOR = {
									is_country = ROOT
									is_at_war_with = ROOT
								}
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_transfered_fleet_01 
								is_same_value = event_target:ftm_transfered_fleet_02 
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					solar_system = {
						exists = space_owner
						space_owner = {
							is_country_type = default
							has_communications = root
							NOR = {
								is_country = ROOT
								is_at_war_with = ROOT
							}
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_transfered_fleet_01 
							is_same_value = event_target:ftm_transfered_fleet_02
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_transfered_fleet_03
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_transfered_fleet_03_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						solar_system = {
							exists = space_owner
							space_owner = {
								is_country_type = default
								has_communications = root
								NOR = {
									is_country = ROOT
									is_at_war_with = ROOT
								}
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_transfered_fleet_01 
								is_same_value = event_target:ftm_transfered_fleet_02 
								is_same_value = event_target:ftm_transfered_fleet_03
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					solar_system = {
						exists = space_owner
						space_owner = {
							is_country_type = default
							has_communications = root
							NOR = {
								is_country = ROOT
								is_at_war_with = ROOT
							}
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_transfered_fleet_01 
							is_same_value = event_target:ftm_transfered_fleet_02 
							is_same_value = event_target:ftm_transfered_fleet_03
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_transfered_fleet_04
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_transfered_fleet_04_buyer
					}
				}
			}
		}
		if = {
			limit = {
				any_owned_fleet = {
					AND = {
						NOT = {
							exists = leader
						}
						solar_system = {
							exists = space_owner
							space_owner = {
								is_country_type = default
								has_communications = root
								NOR = {
									is_country = ROOT
									is_at_war_with = ROOT
								}
							}
						}
						NOT = {
							OR = {
								is_same_value = event_target:ftm_transfered_fleet_01 
								is_same_value = event_target:ftm_transfered_fleet_02 
								is_same_value = event_target:ftm_transfered_fleet_03
								is_same_value = event_target:ftm_transfered_fleet_04
							}
						}
						NOT = {
							OR = {
								is_ship_class = shipclass_constructor
								is_ship_class = shipclass_colonizer
								is_ship_class = shipclass_science_ship
								is_ship_class = shipclass_transport
							}
						}
						NOT = {
							OR = {
								has_fleet_flag = armada_of_the_voidborn
								has_fleet_flag = star_rider_flotilla
								has_fleet_flag = first_storm_wing
								has_fleet_flag = dwamak_bashers
								has_fleet_flag = unhinged_screamer_flotilla
								has_fleet_flag = frenzied_volunteer_squadron
								has_fleet_flag = her_chosen_champions
								has_fleet_flag = order_of_eternal_night
								has_fleet_flag = twilight_congregation
								has_fleet_flag = ftm_rented_fleet_slot_1
								has_fleet_flag = ftm_rented_fleet_slot_2
								has_fleet_flag = ftm_rented_fleet_slot_3
								has_fleet_flag = ftm_rented_fleet_slot_4
								has_fleet_flag = ftm_rented_fleet_slot_5
								has_fleet_flag = ftm_rented_fleet_slot_6
							}
						}
					}
				}
			}
			random_owned_fleet = {
				limit = {
					NOT = {
						exists = leader
					}
					solar_system = {
						exists = space_owner
						space_owner = {
							is_country_type = default
							has_communications = root
							NOR = {
								is_country = ROOT
								is_at_war_with = ROOT
							}
						}
					}
					NOT = {
						OR = {
							is_same_value = event_target:ftm_transfered_fleet_01 
							is_same_value = event_target:ftm_transfered_fleet_02 
							is_same_value = event_target:ftm_transfered_fleet_03
							is_same_value = event_target:ftm_transfered_fleet_04
						}
					}
					NOT = {
						OR = {
							is_ship_class = shipclass_constructor
							is_ship_class = shipclass_colonizer
							is_ship_class = shipclass_science_ship
							is_ship_class = shipclass_transport
						}
					}
					NOT = {
						OR = {
							has_fleet_flag = armada_of_the_voidborn
							has_fleet_flag = star_rider_flotilla
							has_fleet_flag = first_storm_wing
							has_fleet_flag = dwamak_bashers
							has_fleet_flag = unhinged_screamer_flotilla
							has_fleet_flag = frenzied_volunteer_squadron
							has_fleet_flag = her_chosen_champions
							has_fleet_flag = order_of_eternal_night
							has_fleet_flag = twilight_congregation
							has_fleet_flag = ftm_rented_fleet_slot_1
							has_fleet_flag = ftm_rented_fleet_slot_2
							has_fleet_flag = ftm_rented_fleet_slot_3
							has_fleet_flag = ftm_rented_fleet_slot_4
							has_fleet_flag = ftm_rented_fleet_slot_5
							has_fleet_flag = ftm_rented_fleet_slot_6
						}
					}
				}
				save_event_target_as = ftm_transfered_fleet_05
				solar_system = {
					space_owner = {
						save_event_target_as = ftm_transfered_fleet_05_buyer
					}
				}
			}
		}
		save_event_target_as = ftm_transfered_fleet_seller
		log = "[Root.GetName] запустил меню передачи флота"
	}
		
	# выбор флота 1
	option = {
		name = ftm_transfer.1.fleet_01
		custom_tooltip = ftm_transfer.1.fleet_01.tooltip
		trigger = {
			exists = event_target:ftm_transfered_fleet_01 
			NOT = {
				OR = {
					AND = {
						event_target:ftm_transfered_fleet_01 = {
							is_ship_class = shipclass_military_special
						}
						event_target:ftm_transfered_fleet_01_buyer = {
							any_owned_ship = { is_ship_size = colossus }
						}
					}
					AND = {
						event_target:ftm_transfered_fleet_01 = {
							is_ship_class = shipclass_starbase
						}
						event_target:ftm_transfered_fleet_01_buyer = {
							any_owned_ship = { is_ship_size = juggernaut }
						}
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для передачи флот 1 ([event_target:ftm_transfered_fleet_01.GetFleetName])"
			event_target:ftm_transfered_fleet_01 = { 
				save_event_target_as = ftm_transfered_fleet
			}
			event_target:ftm_transfered_fleet_01_buyer = {
				save_event_target_as = ftm_transfered_fleet_buyer
			}
			country_event = { id = ftm_transfer.2 }
		}
	}
		
	# выбор флота 2
	option = {
		name = ftm_transfer.1.fleet_02
		custom_tooltip = ftm_transfer.1.fleet_02.tooltip
		trigger = {
			exists = event_target:ftm_transfered_fleet_02
			NOT = {
				OR = {
					AND = {
						event_target:ftm_transfered_fleet_02 = {
							is_ship_class = shipclass_military_special
						}
						event_target:ftm_transfered_fleet_02_buyer = {
							any_owned_ship = { is_ship_size = colossus }
						}
					}
					AND = {
						event_target:ftm_transfered_fleet_02 = {
							is_ship_class = shipclass_starbase
						}
						event_target:ftm_transfered_fleet_02_buyer = {
							any_owned_ship = { is_ship_size = juggernaut }
						}
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для передачи флот 2 ([event_target:ftm_transfered_fleet_02.GetFleetName])"
			event_target:ftm_transfered_fleet_02 = { 
				save_event_target_as = ftm_transfered_fleet
			}
			event_target:ftm_transfered_fleet_02_buyer = {
				save_event_target_as = ftm_transfered_fleet_buyer
			}
			country_event = { id = ftm_transfer.2 }
		}
	}
		
	# выбор флота 3
	option = {
		name = ftm_transfer.1.fleet_03
		custom_tooltip = ftm_transfer.1.fleet_03.tooltip
		trigger = {
			exists = event_target:ftm_transfered_fleet_03 
			NOT = {
				OR = {
					AND = {
						event_target:ftm_transfered_fleet_03 = {
							is_ship_class = shipclass_military_special
						}
						event_target:ftm_transfered_fleet_03_buyer = {
							any_owned_ship = { is_ship_size = colossus }
						}
					}
					AND = {
						event_target:ftm_transfered_fleet_03 = {
							is_ship_class = shipclass_starbase
						}
						event_target:ftm_transfered_fleet_03_buyer = {
							any_owned_ship = { is_ship_size = juggernaut }
						}
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для передачи флот 3 ([event_target:ftm_transfered_fleet_03.GetFleetName])"
			event_target:ftm_transfered_fleet_03 = { 
				save_event_target_as = ftm_transfered_fleet
			}
			event_target:ftm_transfered_fleet_03_buyer = {
				save_event_target_as = ftm_transfered_fleet_buyer
			}
			country_event = { id = ftm_transfer.2 }
		}
	}
		
	# выбор флота 4
	option = {
		name = ftm_transfer.1.fleet_04
		custom_tooltip = ftm_transfer.1.fleet_04.tooltip
		trigger = {
			exists = event_target:ftm_transfered_fleet_04
			NOT = {
				OR = {
					AND = {
						event_target:ftm_transfered_fleet_04 = {
							is_ship_class = shipclass_military_special
						}
						event_target:ftm_transfered_fleet_04_buyer = {
							any_owned_ship = { is_ship_size = colossus }
						}
					}
					AND = {
						event_target:ftm_transfered_fleet_04 = {
							is_ship_class = shipclass_starbase
						}
						event_target:ftm_transfered_fleet_04_buyer = {
							any_owned_ship = { is_ship_size = juggernaut }
						}
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для передачи флот 4 ([event_target:ftm_transfered_fleet_04.GetFleetName])"
			event_target:ftm_transfered_fleet_04 = { 
				save_event_target_as = ftm_transfered_fleet
			}
			event_target:ftm_transfered_fleet_04_buyer = {
				save_event_target_as = ftm_transfered_fleet_buyer
			}
			country_event = { id = ftm_transfer.2 }
		}
	}
		
	# выбор флота 5
	option = {
		name = ftm_transfer.1.fleet_05
		custom_tooltip = ftm_transfer.1.fleet_05.tooltip
		trigger = {
			exists = event_target:ftm_transfered_fleet_05 
			NOT = {
				OR = {
					AND = {
						event_target:ftm_transfered_fleet_05 = {
							is_ship_class = shipclass_military_special
						}
						event_target:ftm_transfered_fleet_05_buyer = {
							any_owned_ship = { is_ship_size = colossus }
						}
					}
					AND = {
						event_target:ftm_transfered_fleet_05 = {
							is_ship_class = shipclass_starbase
						}
						event_target:ftm_transfered_fleet_05_buyer = {
							any_owned_ship = { is_ship_size = juggernaut }
						}
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] выбрал для передачи флот 5 ([event_target:ftm_transfered_fleet_05.GetFleetName])"
			event_target:ftm_transfered_fleet_05 = { 
				save_event_target_as = ftm_transfered_fleet
			}
			event_target:ftm_transfered_fleet_05_buyer = {
				save_event_target_as = ftm_transfered_fleet_buyer
			}
			country_event = { id = ftm_transfer.2 }
		}
	}
		
	# передумал
	option = {
		name = ftm_transfer.1.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал передавать флот"
			remove_global_flag = ftm_edict_is_launch
		}
	}
		
	# настройки
	option = {
		name = ftm_transfer.1.options
		trigger = {
			AND = {
				has_global_flag = ftm_market_not_can_use
				has_global_flag = ftm_rent_not_can_use
				has_global_flag = ftm_auction_not_can_use
				has_country_flag = ftm_server_country
			}
		}
		hidden_effect = {
			remove_global_flag = ftm_edict_is_launch
			country_event = { id = ftm_transfer.999 }
		}
	}
	
}





# 2 - определение цены передачи
# см. эксель-файл
country_event = {
	id = ftm_transfer.2
	title = "ftm_transfer.2.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.2.desc_colossus"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.2.desc_juggernaut"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.2.desc"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_transfer.2.desc_mod"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
	
	immediate = {
	
		# ОБНУЛЕНИЕ СЧЕТЧИКОВ
		event_target:ftm_transfered_fleet_seller = { 
			# корветы (corvette)
			set_variable = {
				which = ftm_transfered_fleet_corvette_count # всего
				value = 0
			}
			# эсминцы (destroyer)
			set_variable = {
				which = ftm_transfered_fleet_destroyer_count # всего
				value = 0
			}
			# крейсера (cruiser)
			set_variable = {
				which = ftm_transfered_fleet_cruiser_count # всего
				value = 0
			}
			# линкоры (battleship)
			set_variable = {
				which = ftm_transfered_fleet_battleship_count # всего
				value = 0
			}
			# титаны (titan)
			set_variable = {
				which = ftm_transfered_fleet_titan_count # всего
				value = 0
			}
			# колосс (colossus)
			set_variable = {
				which = ftm_transfered_fleet_colossus_count # всего
				value = 0
			}
			# джаггернаут (juggernaut)
			set_variable = {
				which = ftm_transfered_fleet_juggernaut_count # всего
				value = 0
			}
			# особые
			set_variable = {
				which = ftm_transfered_fleet_special_count # всего
				value = 0
			}
			# стоимость
			set_variable = {
				which = ftm_transfered_fleet_cost_25 # счетчик для 25%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_50 # счетчик для 50%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_75 # счетчик для 75%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_100 # счетчик для 100%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_125 # счетчик для 125%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_150 # счетчик для 150%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_175 # счетчик для 175%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_200 # счетчик для 200%
				value = 0
			}
		}
		event_target:ftm_transfered_fleet_buyer = { 
			# стоимость
			set_variable = {
				which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
				value = 0
			}
			set_variable = {
				which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
				value = 0
			}
		}
		
		# ПРИСВОЕНИЕ СЧЕТЧИКОВ
		
		
		# корветы (corvette)
		every_owned_ship = {
			limit = {
				ftm_corvette_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}	
			event_target:ftm_transfered_fleet_seller = { 
				change_variable = {
					which = ftm_transfered_fleet_corvette_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_corvette_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_corvette_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_corvette_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_corvette_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_corvette_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_corvette_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_corvette_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_corvette_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = { 
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_corvette_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_corvette_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_corvette_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_corvette_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_corvette_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_corvette_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_corvette_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_corvette_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_corvette_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_corvette_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_corvette_tech_16_25
						}
					}
				}
			}
		}
			
		# эсминцы (destroyer)
		every_owned_ship = {
			limit = {
				ftm_destroyer_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}	
			event_target:ftm_transfered_fleet_seller = { 
				change_variable = {
					which = ftm_transfered_fleet_destroyer_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_destroyer_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_destroyer_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_destroyer_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_destroyer_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_destroyer_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_destroyer_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_destroyer_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_destroyer_cost_200
				}
			}	
			event_target:ftm_transfered_fleet_buyer = { 
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_destroyer_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_destroyer_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_destroyer_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_destroyer_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_destroyer_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_destroyer_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_destroyer_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_destroyer_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_destroyer_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_destroyer_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_destroyer_tech_16_25
						}
					}
				}
			}
		}
			
		# крейсера (cruiser)
		every_owned_ship = {
			limit = {
				ftm_cruiser_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}
			event_target:ftm_transfered_fleet_seller = { 
				change_variable = {
					which = ftm_transfered_fleet_cruiser_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_cruiser_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_cruiser_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_cruiser_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_cruiser_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_cruiser_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_cruiser_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_cruiser_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_cruiser_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = { 
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_cruiser_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_cruiser_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_cruiser_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_cruiser_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_cruiser_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_cruiser_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_cruiser_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_cruiser_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_cruiser_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_cruiser_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_cruiser_tech_16_25
						}
					}
				}
			}
		}
			
		# линкоры (battleship)
		every_owned_ship = {
			limit = {
				ftm_battleship_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
				
			}
			event_target:ftm_transfered_fleet_seller = { 
				change_variable = {
					which = ftm_transfered_fleet_battleship_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_battleship_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_battleship_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_battleship_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_battleship_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_battleship_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_battleship_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_battleship_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_battleship_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = { 
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_battleship_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_battleship_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_battleship_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_battleship_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_battleship_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_battleship_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_battleship_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_battleship_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_battleship_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_battleship_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_battleship_tech_16_25
						}
					}
				}
			}
		}
			
		# титаны (titan)
		every_owned_ship = {
			limit = {
				ftm_titan_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}
			event_target:ftm_transfered_fleet_seller = {
				change_variable = {
					which = ftm_transfered_fleet_titan_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_titan_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_titan_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_titan_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_titan_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_titan_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_titan_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_titan_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_titan_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_titan_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_titan_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_titan_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_titan_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_titan_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_titan_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_titan_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_titan_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_titan_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_titan_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_titan_tech_16_25
						}
					}
				}
			}
		}
			
		# колосс (colossus)
		every_owned_ship = {
			limit = {
				ftm_colossus_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}
			event_target:ftm_transfered_fleet_seller = {
				change_variable = {
					which = ftm_transfered_fleet_colossus_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_colossus_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_colossus_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_colossus_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_colossus_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_colossus_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_colossus_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_colossus_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_colossus_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_colossus_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_colossus_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_colossus_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_colossus_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_colossus_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_colossus_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_colossus_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_colossus_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_colossus_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_colossus_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_colossus_tech_16_25
						}
					}
				}
			}
		}
			
		# джаггернаут (juggernaut)
		every_owned_ship = {
			limit = {
				ftm_juggernaut_ship_size_types = yes
				fleet = {
					is_same_value = event_target:ftm_transfered_fleet 
				}
			}
			event_target:ftm_transfered_fleet_seller = {
				change_variable = {
					which = ftm_transfered_fleet_juggernaut_count # всего
					value = 1
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_25 # счетчик для 25%
					value = @ftm_juggernaut_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50 # счетчик для 50%
					value = @ftm_juggernaut_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75 # счетчик для 75%
					value = @ftm_juggernaut_cost_75
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100 # счетчик для 100%
					value = @ftm_juggernaut_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125 # счетчик для 125%
					value = @ftm_juggernaut_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150 # счетчик для 150%
					value = @ftm_juggernaut_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175 # счетчик для 175%
					value = @ftm_juggernaut_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200 # счетчик для 200%
					value = @ftm_juggernaut_cost_200
				}
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
					value = @ftm_juggernaut_cost_25
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
					value = @ftm_juggernaut_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
					value = @ftm_juggernaut_cost_50
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
					value = @ftm_juggernaut_cost_100
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
					value = @ftm_juggernaut_cost_125
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
					value = @ftm_juggernaut_cost_150
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
					value = @ftm_juggernaut_cost_175
				}
				change_variable = {
					which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
					value = @ftm_juggernaut_cost_200
				}
			}
			
			### надбавка за технологии ###
			
			# кинетика-3
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_1_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_1_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_1_25
						}
					}
				}
			}
			
			# кинетика-5
			if = {
				limit = {
					owner = {
						has_technology = tech_mass_drivers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_2_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_2_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_2_25
						}
					}
				}
			}
			
			# лазеры-3
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_3_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_3_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_3_25
						}
					}
				}
			}
			
			# лазеры-5
			if = {
				limit = {
					owner = {
						has_technology = tech_lasers_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_4_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_4_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_4_25
						}
					}
				}
			}
			
			# щиты-3
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_5_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_5_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_5_25
						}
					}
				}
			}
			
			# щиты-5
			if = {
				limit = {
					owner = {
						has_technology = tech_shields_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_6_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_6_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_6_25
						}
					}
				}
			}
			
			# щиты-6
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_dark_matter_deflector
							NOT = {
								has_technology = tech_psionic_shield
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_7_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_7_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_7_25
						}
					}
				}
			}
			
			# щиты-7
			if = {
				limit = {
					owner = {
						has_technology = tech_psionic_shield
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_8_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_8_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_8_25
						}
					}
				}
			}
			
			# броня-3
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_3
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_9_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_9_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_9_25
						}
					}
				}
			}
			
			# броня-5
			if = {
				limit = {
					owner = {
						has_technology = tech_ship_armor_5
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_10_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_10_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_10_25
						}
					}
				}
			}
			
			# броня-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dragon_armor
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_11_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_11_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_11_25
						}
					}
				}
			}
			
			# реактор-3
			if = {
				limit = {
					owner = {
						has_technology = tech_cold_fusion_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_12_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_12_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_12_25
						}
					}
				}
			}
			
			# реактор-5
			if = {
				limit = {
					owner = {
						has_technology = tech_zero_point_power
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_13_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_13_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_13_25
						}
					}
				}
			}
			
			# реактор-6
			if = {
				limit = {
					owner = {
						has_technology = tech_dark_matter_power_core
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_14_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_14_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_14_25
						}
					}
				}
			}
			
			# прыжковый-1
			if = {
				limit = {
					owner = {
						AND = {
							has_technology = tech_jump_drive_1
							NOT = {
								has_technology = tech_psi_jump_drive_1
							}
						}
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_15_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_15_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_15_25
						}
					}
				}
			}
			
			# прыжковый-2
			if = {
				limit = {
					owner = {
						has_technology = tech_psi_jump_drive_1
					}
				}
				event_target:ftm_transfered_fleet_seller = {
					while = {
						count = 1 
						change_variable = {
							which = ftm_transfered_fleet_cost_25 # счетчик для 25%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50 # счетчик для 50%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75 # счетчик для 75%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100 # счетчик для 100%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125 # счетчик для 125%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150 # счетчик для 150%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175 # счетчик для 175%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200 # счетчик для 200%
							value = @ftm_juggernaut_tech_16_25
						}
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					while = {
						count = 1
						change_variable = {
							which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 2
						change_variable = {
							which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 3
						change_variable = {
							which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 4
						change_variable = {
							which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 5
						change_variable = {
							which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 6
						change_variable = {
							which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 7
						change_variable = {
							which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
							value = @ftm_juggernaut_tech_16_25
						}
					}
					while = {
						count = 8
						change_variable = {
							which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
							value = @ftm_juggernaut_tech_16_25
						}
					}
				}
			}
		}
		
		# счетчик для баланса ресурсов
		event_target:ftm_transfered_fleet_seller = { 
			set_variable = {
				which = ftm_price_increase
				value = ftm_transfered_fleet_cost_25
			}
		}
		event_target:ftm_transfered_fleet_buyer = { 
			set_variable = {
				which = ftm_price_increase_buyer
				value = ftm_transfered_fleet_cost_25_buyer
			}
		}
		log = "Увеличение цены по типу ресурсов = [event_target:ftm_transfered_fleet_seller.ftm_price_increase]"
		
	}

	# бесплатно
	option = {
		name = ftm_transfer.2.free
		custom_tooltip = ftm_transfer.2.free.tooltip
		hidden_effect = {
			log = "[Root.GetName] передает флот [event_target:ftm_transfered_fleet.GetFleetName] за бесплатно. Нужно подтверждение"
			country_event = { id = ftm_transfer.7 }
		}
	}

	# энергокредиты
	option = {
		name = ftm_transfer.2.energy
		custom_tooltip = ftm_transfer.2.energy.tooltip
		hidden_effect = {
			log = "[Root.GetName] выбирает способ оплаты энергокредитами. Требуется выбрать цену."
			
			### ПЕРЕСЧЕТ ЦЕН ПОД ВЫБРАННЫЙ РЕСУРС ###
				 
			# энергия = х5
			while = {
				count = 4
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25 # счетчик для 25%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
						value = ftm_price_increase_buyer
					}
				}
			} 
			while = {
				count = 8
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50 # счетчик для 50%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 12
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75 # счетчик для 75%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 16
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100 # счетчик для 100%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 20
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125 # счетчик для 125%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 24
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150 # счетчик для 150%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 28
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175 # счетчик для 175%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 32
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200 # счетчик для 200%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
						value = ftm_price_increase_buyer
					}
				}
			}
			
			country_event = { id = ftm_transfer.13 }
			set_global_flag = ftm_price_in_energy
		}
	}

	# минералы
	option = {
		name = ftm_transfer.2.minerals
		custom_tooltip = ftm_transfer.2.minerals.tooltip
		hidden_effect = {
			log = "[Root.GetName] выбирает способ оплаты минералами. Требуется выбрать цену."
			
			### ПЕРЕСЧЕТ ЦЕН ПОД ВЫБРАННЫЙ РЕСУРС ###
			
			# минералы = х4
			while = {
				count = 3
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25 # счетчик для 25%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
						value = ftm_price_increase_buyer
					}
				}
			} 
			while = {
				count = 6
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50 # счетчик для 50%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 9
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75 # счетчик для 75%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 12
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100 # счетчик для 100%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 15
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125 # счетчик для 125%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 18
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150 # счетчик для 150%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 21
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175 # счетчик для 175%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 24
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200 # счетчик для 200%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
						value = ftm_price_increase_buyer
					}
				}
			}			
			
			country_event = { id = ftm_transfer.13 }
			set_global_flag = ftm_price_in_minerals
		}
	}

	# еда
	option = {
		name = ftm_transfer.2.food
		custom_tooltip = ftm_transfer.2.food.tooltip
		hidden_effect = {
			log = "[Root.GetName] выбирает способ оплаты едой. Требуется выбрать цену."
			
			### ПЕРЕСЧЕТ ЦЕН ПОД ВЫБРАННЫЙ РЕСУРС ###
			
			# еда = х4
			while = {
				count = 3
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25 # счетчик для 25%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
						value = ftm_price_increase_buyer
					}
				}
			} 
			while = {
				count = 6
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50 # счетчик для 50%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 9
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75 # счетчик для 75%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 12
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100 # счетчик для 100%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 15
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125 # счетчик для 125%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 18
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150 # счетчик для 150%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 21
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175 # счетчик для 175%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 24
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200 # счетчик для 200%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
						value = ftm_price_increase_buyer
					}
				}
			}
			
			country_event = { id = ftm_transfer.13 }
			set_global_flag = ftm_price_in_food
		}
	}

	# ТМС
	option = {
		name = ftm_transfer.2.goods
		custom_tooltip = ftm_transfer.2.goods.tooltip
		hidden_effect = {
			log = "[Root.GetName] выбирает способ оплаты ТМС. Требуется выбрать цену."
			
			### ПЕРЕСЧЕТ ЦЕН ПОД ВЫБРАННЫЙ РЕСУРС ###
			
			# ТМС = х2
			while = {
				count = 1
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25 # счетчик для 25%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_25_buyer # счетчик для 25%
						value = ftm_price_increase_buyer
					}
				}
			} 
			while = {
				count = 2
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50 # счетчик для 50%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_50_buyer # счетчик для 50%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 3
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75 # счетчик для 75%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_75_buyer # счетчик для 75%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 4
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100 # счетчик для 100%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_100_buyer # счетчик для 100%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 5
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125 # счетчик для 125%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_125_buyer # счетчик для 125%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 6
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150 # счетчик для 150%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_150_buyer # счетчик для 150%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 7
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175 # счетчик для 175%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_175_buyer # счетчик для 175%
						value = ftm_price_increase_buyer
					}
				}
			}
			while = {
				count = 8
				event_target:ftm_transfered_fleet_seller = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200 # счетчик для 200%
						value = ftm_price_increase
					}
				}
				event_target:ftm_transfered_fleet_buyer = { 
					change_variable = {
						which = ftm_transfered_fleet_cost_200_buyer # счетчик для 200%
						value = ftm_price_increase_buyer
					}
				}
			}
			
			country_event = { id = ftm_transfer.13 }
			set_global_flag = ftm_price_in_goods
		}
	}

	# Сплавы
	option = {
		name = ftm_transfer.2.alloys
		custom_tooltip = ftm_transfer.2.alloys.tooltip
		hidden_effect = {
			log = "[Root.GetName] выбирает способ оплаты сплавами. Требуется выбрать цену."
			
			### ПЕРЕСЧЕТ ЦЕН ПОД ВЫБРАННЫЙ РЕСУРС ###
			
			# сплавы = х1
			# добавление не требуется
			
			country_event = { id = ftm_transfer.13 }
			set_global_flag = ftm_price_in_alloys
		}
	}
		
	# передумал
	option = {
		name = ftm_transfer.1.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал передавать флот [event_target:ftm_transfered_fleet.GetFleetName]"
			remove_global_flag = ftm_edict_is_launch
		}
	}
	
}





# 3 - запрос подтверждения продажи
country_event = {
	id = ftm_transfer.3
	title = "ftm_transfer.3.title"
	# normal fleet
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.3.desc_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.3.desc_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.3.desc_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.3.desc_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.3.desc_alloys"
	}
	# jugger
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.3.desc_juggernaut_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.3.desc_juggernaut_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.3.desc_juggernaut_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.3.desc_juggernaut_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.3.desc_juggernaut_alloys"
	}
	# colossus
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.3.desc_colossus_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.3.desc_colossus_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.3.desc_colossus_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.3.desc_colossus_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.3.desc_colossus_alloys"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.3.desc_mod_energy"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.3.desc_mod_minerals"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.3.desc_mod_food"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.3.desc_mod_goods"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.3.desc_mod_alloys"
	}
	
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.3.confirm
		custom_tooltip = ftm_transfer.3.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает продажу флота [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за [Root.ftm_transfered_fleet_cost]"
			country_event = { id = ftm_transfer.4 }
		}
	}
		
	# отказаться
	option = {
		name = ftm_transfer.1.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал продавать флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за [Root.ftm_transfered_fleet_cost]"
			remove_global_flag = ftm_edict_is_launch
		}
	}
	
}





# 4 - уведомление продавцу о продаже
country_event = {
	id = ftm_transfer.4
	title = "ftm_transfer.4.title"
	desc = "ftm_transfer.4.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# ок
	option = {
		name = ftm_transfer.4.ok
		hidden_effect = {
			log = "[Root.GetName] направил империи [event_target:ftm_transfered_fleet_buyer.GetName] предложение продажи флота [event_target:ftm_transfered_fleet.GetFleetName] за [Root.ftm_transfered_fleet_cost]"
			event_target:ftm_transfered_fleet_buyer = {
				country_event = { id = ftm_transfer.5 }
			}
		}
	}
	
}





# 5 - уведомление покупателю с предложением купить
country_event = {
	id = ftm_transfer.5
	title = "ftm_transfer.5.title"
	# normal
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.5.desc_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.5.desc_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.5.desc_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.5.desc_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.5.desc_alloys"
	}
	# jugger
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.5.desc_juggernaut_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.5.desc_juggernaut_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.5.desc_juggernaut_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.5.desc_juggernaut_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.5.desc_juggernaut_alloys"
	}
	# colossus
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.5.desc_colossus_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.5.desc_colossus_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.5.desc_colossus_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.5.desc_colossus_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.5.desc_colossus_alloys"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.5.desc_mod_energy"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.5.desc_mod_minerals"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.5.desc_mod_food"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.5.desc_mod_goods"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.5.desc_mod_alloys"
	}
	
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# купить
	option = {
		name = ftm_transfer.5.agree
		trigger = {
			OR = {
				is_ai = no
				AND = {
					is_ai = yes
					has_monthly_income = { resource = energy value >= 75 }
					has_monthly_income = { resource = alloys value >= 25 }
					relative_power = {
						who = event_target:ftm_transfered_fleet_seller
						category = fleet
						value <= equivalent
					}
					opinion = {
						who = event_target:ftm_transfered_fleet_seller
						value > 50
					}
					used_naval_capacity_percent < 0.8
				}
			}
		}
		hidden_effect = {			
			log = "[Root.GetName] согласен купить флот [event_target:ftm_transfered_fleet.GetFleetName] за [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] у империи [event_target:ftm_transfered_fleet_seller.GetName]"

			# Если ты тут, то значит ищешь способ проверки и изменения энергокредитов у игрока. Вот он:
			# метод проверки наличия энергокредитов:
			# 1) проверяется количество энергии - если больше 100000, то снизить на 100000 и прибавить к спецсчетчику 10000. Повторять 99 раз. Потом для 10000, 1000, 100, 10 и 1 по 9 раз - в итоге при 0 энергии спецсчетчик будет равен первоначальному числу энергии;
			# 2) скопировать спецсчетчик на другой счетчик;
			# 3) вернуть энергию согласно пункту 1, только в обратку. итого все вернется в состояник как до 1 пункта, но будет счетчик, равный числу энергии;
			# 4) сравнить счетчик энергии и счетчик цены флота
			
			
			# ЭНЕРГИЯ
			if = {
				limit = {
					has_global_flag = ftm_price_in_energy
				}
				log = "[Root.GetName]: Запуск скрипта проверки наличия энергокредитов"
				set_variable = {
					which = ftm_buyer_energy_check_count
					value = 0
				}
				#1
				while = {
					count = 99
					if = {
						limit = {
							resource_stockpile_compare = { resource = energy value >= 10000 }
						}
						add_resource = { energy = -10000 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = 10000
						}
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = energy value >= 1000 }
						}
						add_resource = { energy = -1000 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = 1000
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = energy value >= 100 }
						}
						add_resource = { energy = -100 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = 100
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = energy value >= 10 }
						}
						add_resource = { energy = -10 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = 10
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = energy value >= 1 }
						}
						add_resource = { energy = -1 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = 1
						}					
					}
					else = {
						#nothing
					}
				}
				#2
				set_variable = {
					which = ftm_buyer_energy_current_count
					value = ftm_buyer_energy_check_count
				}
				#3
				while = {
					count = 99
					if = {
						limit = {
							check_variable = {
								which = ftm_buyer_energy_check_count
								value >= 10000
							}
						}
						add_resource = { energy = 10000 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = -10000
						}
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_energy_check_count
								value >= 1000
							}
						}
						add_resource = { energy = 1000 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = -1000
						}				
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_energy_check_count
								value >= 100
							}
						}
						add_resource = { energy = 100 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = -100
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_energy_check_count
								value >= 10
							}
						}
						add_resource = { energy = 10 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = -10
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_energy_check_count
								value >= 1
							}
						}
						add_resource = { energy = 1 }
						change_variable = {
							which = ftm_buyer_energy_check_count
							value = -1
						}					
					}
					else = {
						#nothing
					}
				}	
				log = "[Root.GetName]: проверка выполнена. Количество энергокредитов: [Root.ftm_buyer_energy_current_count]."	
				#4
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_energy_current_count
							value < ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... ПРОВАЛ. ТРЕБУЕМОЙ СУММЫ НЕТ."
					remove_global_flag = ftm_edict_is_launch
					country_event = { id = ftm_transfer.9 }
					event_target:ftm_transfered_fleet_seller = {
						country_event = { id = ftm_transfer.10 }
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_energy_current_count
							value >= ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... УСПЕШНО. СУММА В НАЛИЧИИ."
					remove_global_flag = ftm_edict_is_launch
					set_variable = {
						which = ftm_buyer_energy_transfer
						value = ftm_transfered_fleet_cost_buyer
					}
					while = {
						count = 99
						if = {
							limit = {
								check_variable = {
									which = ftm_buyer_energy_transfer
									value >= 10000
								}
							}
							add_resource = { energy = -10000 }
							change_variable = {
								which = ftm_buyer_energy_transfer
								value = -10000
							}
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_energy_transfer
									value >= 1000
								}
							}
							add_resource = { energy = -1000 }
							change_variable = {
								which = ftm_buyer_energy_transfer
								value = -1000
							}				
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_energy_transfer
									value >= 100
								}
							}
							add_resource = { energy = -100 }
							change_variable = {
								which = ftm_buyer_energy_transfer
								value = -100
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_energy_transfer
									value >= 10
								}
							}
							add_resource = { energy = -10 }
							change_variable = {
								which = ftm_buyer_energy_transfer
								value = -10
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_energy_transfer
									value >= 1
								}
							}
							add_resource = { energy = -1 }
							change_variable = {
								which = ftm_buyer_energy_transfer
								value = -1
							}					
						}
						else = {
							#nothing
						}
					}	
					log = "[Root.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] снята"
					country_event = { id = ftm_transfer.12 }
					event_target:ftm_transfered_fleet_seller = {
						set_variable = {
							which = ftm_seller_energy_transfer
							value = ftm_transfered_fleet_cost
						}
						while = {
							count = 99
							if = {
								limit = {
									check_variable = {
										which = ftm_seller_energy_transfer
										value >= 10000
									}
								}
								add_resource = { energy = 10000 }
								change_variable = {
									which = ftm_seller_energy_transfer
									value = -10000
								}
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_energy_transfer
										value >= 1000
									}
								}
								add_resource = { energy = 1000 }
								change_variable = {
									which = ftm_seller_energy_transfer
									value = -1000
								}				
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_energy_transfer
										value >= 100
									}
								}
								add_resource = { energy = 100 }
								change_variable = {
									which = ftm_seller_energy_transfer
									value = -100
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_energy_transfer
										value >= 10
									}
								}
								add_resource = { energy = 10 }
								change_variable = {
									which = ftm_seller_energy_transfer
									value = -10
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_energy_transfer
										value >= 1
									}
								}
								add_resource = { energy = 1 }
								change_variable = {
									which = ftm_seller_energy_transfer
									value = -1
								}					
							}
							else = {
								#nothing
							}
						}
						log = "[event_target:ftm_transfered_fleet_seller.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] зачислена"
						country_event = { id = ftm_transfer.11 }
					}
					event_target:ftm_transfered_fleet = { 
						set_owner = event_target:ftm_transfered_fleet_buyer
					}
				}
			}
			
			
			# МИНЕРАЛЫ
			if = {
				limit = {
					has_global_flag = ftm_price_in_minerals
				}
				log = "[Root.GetName]: Запуск скрипта проверки наличия минералов"
				set_variable = {
					which = ftm_buyer_minerals_check_count
					value = 0
				}
				#1
				while = {
					count = 99
					if = {
						limit = {
							resource_stockpile_compare = { resource = minerals value >= 10000 }
						}
						add_resource = { minerals = -10000 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = 10000
						}
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = minerals value >= 1000 }
						}
						add_resource = { minerals = -1000 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = 1000
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = minerals value >= 100 }
						}
						add_resource = { minerals = -100 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = 100
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = minerals value >= 10 }
						}
						add_resource = { minerals = -10 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = 10
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = minerals value >= 1 }
						}
						add_resource = { minerals = -1 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = 1
						}					
					}
					else = {
						#nothing
					}
				}
				#2
				set_variable = {
					which = ftm_buyer_minerals_current_count
					value = ftm_buyer_minerals_check_count
				}
				#3
				while = {
					count = 99
					if = {
						limit = {
							check_variable = {
								which = ftm_buyer_minerals_check_count
								value >= 10000
							}
						}
						add_resource = { minerals = 10000 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = -10000
						}
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_minerals_check_count
								value >= 1000
							}
						}
						add_resource = { minerals = 1000 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = -1000
						}				
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_minerals_check_count
								value >= 100
							}
						}
						add_resource = { minerals = 100 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = -100
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_minerals_check_count
								value >= 10
							}
						}
						add_resource = { minerals = 10 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = -10
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_minerals_check_count
								value >= 1
							}
						}
						add_resource = { minerals = 1 }
						change_variable = {
							which = ftm_buyer_minerals_check_count
							value = -1
						}					
					}
					else = {
						#nothing
					}
				}	
				log = "[Root.GetName]: проверка выполнена. Количество минералов: [Root.ftm_buyer_minerals_current_count]."	
				#4
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_minerals_current_count
							value < ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... ПРОВАЛ. ТРЕБУЕМОЙ СУММЫ НЕТ."
					remove_global_flag = ftm_edict_is_launch
					country_event = { id = ftm_transfer.9 }
					event_target:ftm_transfered_fleet_seller = {
						country_event = { id = ftm_transfer.10 }
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_minerals_current_count
							value >= ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... УСПЕШНО. СУММА В НАЛИЧИИ."
					remove_global_flag = ftm_edict_is_launch
					set_variable = {
						which = ftm_buyer_minerals_transfer
						value = ftm_transfered_fleet_cost_buyer
					}
					while = {
						count = 99
						if = {
							limit = {
								check_variable = {
									which = ftm_buyer_minerals_transfer
									value >= 10000
								}
							}
							add_resource = { minerals = -10000 }
							change_variable = {
								which = ftm_buyer_minerals_transfer
								value = -10000
							}
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_minerals_transfer
									value >= 1000
								}
							}
							add_resource = { minerals = -1000 }
							change_variable = {
								which = ftm_buyer_minerals_transfer
								value = -1000
							}				
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_minerals_transfer
									value >= 100
								}
							}
							add_resource = { minerals = -100 }
							change_variable = {
								which = ftm_buyer_minerals_transfer
								value = -100
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_minerals_transfer
									value >= 10
								}
							}
							add_resource = { minerals = -10 }
							change_variable = {
								which = ftm_buyer_minerals_transfer
								value = -10
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_minerals_transfer
									value >= 1
								}
							}
							add_resource = { minerals = -1 }
							change_variable = {
								which = ftm_buyer_minerals_transfer
								value = -1
							}					
						}
						else = {
							#nothing
						}
					}	
					log = "[Root.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] снята"
					country_event = { id = ftm_transfer.12 }
					event_target:ftm_transfered_fleet_seller = {
						set_variable = {
							which = ftm_seller_minerals_transfer
							value = ftm_transfered_fleet_cost
						}
						while = {
							count = 99
							if = {
								limit = {
									check_variable = {
										which = ftm_seller_minerals_transfer
										value >= 10000
									}
								}
								add_resource = { minerals = 10000 }
								change_variable = {
									which = ftm_seller_minerals_transfer
									value = -10000
								}
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_minerals_transfer
										value >= 1000
									}
								}
								add_resource = { minerals = 1000 }
								change_variable = {
									which = ftm_seller_minerals_transfer
									value = -1000
								}				
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_minerals_transfer
										value >= 100
									}
								}
								add_resource = { minerals = 100 }
								change_variable = {
									which = ftm_seller_minerals_transfer
									value = -100
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_minerals_transfer
										value >= 10
									}
								}
								add_resource = { minerals = 10 }
								change_variable = {
									which = ftm_seller_minerals_transfer
									value = -10
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_minerals_transfer
										value >= 1
									}
								}
								add_resource = { minerals = 1 }
								change_variable = {
									which = ftm_seller_minerals_transfer
									value = -1
								}					
							}
							else = {
								#nothing
							}
						}
						log = "[event_target:ftm_transfered_fleet_seller.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] зачислена"
						country_event = { id = ftm_transfer.11 }
					}
					event_target:ftm_transfered_fleet = { 
						set_owner = event_target:ftm_transfered_fleet_buyer
					}
				}
			}
			
			
			# ЕДА
			if = {
				limit = {
					has_global_flag = ftm_price_in_food
				}
				log = "[Root.GetName]: Запуск скрипта проверки наличия пищи"
				set_variable = {
					which = ftm_buyer_food_check_count
					value = 0
				}
				#1
				while = {
					count = 99
					if = {
						limit = {
							resource_stockpile_compare = { resource = food value >= 10000 }
						}
						add_resource = { food = -10000 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = 10000
						}
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = food value >= 1000 }
						}
						add_resource = { food = -1000 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = 1000
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = food value >= 100 }
						}
						add_resource = { food = -100 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = 100
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = food value >= 10 }
						}
						add_resource = { food = -10 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = 10
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = food value >= 1 }
						}
						add_resource = { food = -1 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = 1
						}					
					}
					else = {
						#nothing
					}
				}
				#2
				set_variable = {
					which = ftm_buyer_food_current_count
					value = ftm_buyer_food_check_count
				}
				#3
				while = {
					count = 99
					if = {
						limit = {
							check_variable = {
								which = ftm_buyer_food_check_count
								value >= 10000
							}
						}
						add_resource = { food = 10000 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = -10000
						}
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_food_check_count
								value >= 1000
							}
						}
						add_resource = { food = 1000 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = -1000
						}				
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_food_check_count
								value >= 100
							}
						}
						add_resource = { food = 100 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = -100
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_food_check_count
								value >= 10
							}
						}
						add_resource = { food = 10 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = -10
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_food_check_count
								value >= 1
							}
						}
						add_resource = { food = 1 }
						change_variable = {
							which = ftm_buyer_food_check_count
							value = -1
						}					
					}
					else = {
						#nothing
					}
				}	
				log = "[Root.GetName]: проверка выполнена. Количество пищи: [Root.ftm_buyer_food_current_count]."	
				#4
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_food_current_count
							value < ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... ПРОВАЛ. ТРЕБУЕМОЙ СУММЫ НЕТ."
					remove_global_flag = ftm_edict_is_launch
					country_event = { id = ftm_transfer.9 }
					event_target:ftm_transfered_fleet_seller = {
						country_event = { id = ftm_transfer.10 }
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_food_current_count
							value >= ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... УСПЕШНО. СУММА В НАЛИЧИИ."
					remove_global_flag = ftm_edict_is_launch
					set_variable = {
						which = ftm_buyer_food_transfer
						value = ftm_transfered_fleet_cost_buyer
					}
					while = {
						count = 99
						if = {
							limit = {
								check_variable = {
									which = ftm_buyer_food_transfer
									value >= 10000
								}
							}
							add_resource = { food = -10000 }
							change_variable = {
								which = ftm_buyer_food_transfer
								value = -10000
							}
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_food_transfer
									value >= 1000
								}
							}
							add_resource = { food = -1000 }
							change_variable = {
								which = ftm_buyer_food_transfer
								value = -1000
							}				
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_food_transfer
									value >= 100
								}
							}
							add_resource = { food = -100 }
							change_variable = {
								which = ftm_buyer_food_transfer
								value = -100
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_food_transfer
									value >= 10
								}
							}
							add_resource = { food = -10 }
							change_variable = {
								which = ftm_buyer_food_transfer
								value = -10
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_food_transfer
									value >= 1
								}
							}
							add_resource = { food = -1 }
							change_variable = {
								which = ftm_buyer_food_transfer
								value = -1
							}					
						}
						else = {
							#nothing
						}
					}	
					log = "[Root.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] снята"
					country_event = { id = ftm_transfer.12 }
					event_target:ftm_transfered_fleet_seller = {
						set_variable = {
							which = ftm_seller_food_transfer
							value = ftm_transfered_fleet_cost
						}
						while = {
							count = 99
							if = {
								limit = {
									check_variable = {
										which = ftm_seller_food_transfer
										value >= 10000
									}
								}
								add_resource = { food = 10000 }
								change_variable = {
									which = ftm_seller_food_transfer
									value = -10000
								}
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_food_transfer
										value >= 1000
									}
								}
								add_resource = { food = 1000 }
								change_variable = {
									which = ftm_seller_food_transfer
									value = -1000
								}				
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_food_transfer
										value >= 100
									}
								}
								add_resource = { food = 100 }
								change_variable = {
									which = ftm_seller_food_transfer
									value = -100
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_food_transfer
										value >= 10
									}
								}
								add_resource = { food = 10 }
								change_variable = {
									which = ftm_seller_food_transfer
									value = -10
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_food_transfer
										value >= 1
									}
								}
								add_resource = { food = 1 }
								change_variable = {
									which = ftm_seller_food_transfer
									value = -1
								}					
							}
							else = {
								#nothing
							}
						}
						log = "[event_target:ftm_transfered_fleet_seller.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] зачислена"
						country_event = { id = ftm_transfer.11 }
					}
					event_target:ftm_transfered_fleet = { 
						set_owner = event_target:ftm_transfered_fleet_buyer
					}
				}
			}
			
			
			# ТМС
			if = {
				limit = {
					has_global_flag = ftm_price_in_goods
				}
				log = "[Root.GetName]: Запуск скрипта проверки наличия ТМС"
				set_variable = {
					which = ftm_buyer_consumer_goods_check_count
					value = 0
				}
				#1
				while = {
					count = 99
					if = {
						limit = {
							resource_stockpile_compare = { resource = consumer_goods value >= 10000 }
						}
						add_resource = { consumer_goods = -10000 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = 10000
						}
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = consumer_goods value >= 1000 }
						}
						add_resource = { consumer_goods = -1000 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = 1000
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = consumer_goods value >= 100 }
						}
						add_resource = { consumer_goods = -100 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = 100
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = consumer_goods value >= 10 }
						}
						add_resource = { consumer_goods = -10 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = 10
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = consumer_goods value >= 1 }
						}
						add_resource = { consumer_goods = -1 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = 1
						}					
					}
					else = {
						#nothing
					}
				}
				#2
				set_variable = {
					which = ftm_buyer_consumer_goods_current_count
					value = ftm_buyer_consumer_goods_check_count
				}
				#3
				while = {
					count = 99
					if = {
						limit = {
							check_variable = {
								which = ftm_buyer_consumer_goods_check_count
								value >= 10000
							}
						}
						add_resource = { consumer_goods = 10000 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = -10000
						}
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_consumer_goods_check_count
								value >= 1000
							}
						}
						add_resource = { consumer_goods = 1000 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = -1000
						}				
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_consumer_goods_check_count
								value >= 100
							}
						}
						add_resource = { consumer_goods = 100 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = -100
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_consumer_goods_check_count
								value >= 10
							}
						}
						add_resource = { consumer_goods = 10 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = -10
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_consumer_goods_check_count
								value >= 1
							}
						}
						add_resource = { consumer_goods = 1 }
						change_variable = {
							which = ftm_buyer_consumer_goods_check_count
							value = -1
						}					
					}
					else = {
						#nothing
					}
				}	
				log = "[Root.GetName]: проверка выполнена. Количество ТМС: [Root.ftm_buyer_consumer_goods_current_count]."	
				#4
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_consumer_goods_current_count
							value < ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... ПРОВАЛ. ТРЕБУЕМОЙ СУММЫ НЕТ."
					remove_global_flag = ftm_edict_is_launch
					country_event = { id = ftm_transfer.9 }
					event_target:ftm_transfered_fleet_seller = {
						country_event = { id = ftm_transfer.10 }
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_consumer_goods_current_count
							value >= ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... УСПЕШНО. СУММА В НАЛИЧИИ."
					remove_global_flag = ftm_edict_is_launch
					set_variable = {
						which = ftm_buyer_consumer_goods_transfer
						value = ftm_transfered_fleet_cost_buyer
					}
					while = {
						count = 99
						if = {
							limit = {
								check_variable = {
									which = ftm_buyer_consumer_goods_transfer
									value >= 10000
								}
							}
							add_resource = { consumer_goods = -10000 }
							change_variable = {
								which = ftm_buyer_consumer_goods_transfer
								value = -10000
							}
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_consumer_goods_transfer
									value >= 1000
								}
							}
							add_resource = { consumer_goods = -1000 }
							change_variable = {
								which = ftm_buyer_consumer_goods_transfer
								value = -1000
							}				
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_consumer_goods_transfer
									value >= 100
								}
							}
							add_resource = { consumer_goods = -100 }
							change_variable = {
								which = ftm_buyer_consumer_goods_transfer
								value = -100
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_consumer_goods_transfer
									value >= 10
								}
							}
							add_resource = { consumer_goods = -10 }
							change_variable = {
								which = ftm_buyer_consumer_goods_transfer
								value = -10
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_consumer_goods_transfer
									value >= 1
								}
							}
							add_resource = { consumer_goods = -1 }
							change_variable = {
								which = ftm_buyer_consumer_goods_transfer
								value = -1
							}					
						}
						else = {
							#nothing
						}
					}	
					log = "[Root.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] снята"
					country_event = { id = ftm_transfer.12 }
					event_target:ftm_transfered_fleet_seller = {
						set_variable = {
							which = ftm_seller_consumer_goods_transfer
							value = ftm_transfered_fleet_cost
						}
						while = {
							count = 99
							if = {
								limit = {
									check_variable = {
										which = ftm_seller_consumer_goods_transfer
										value >= 10000
									}
								}
								add_resource = { consumer_goods = 10000 }
								change_variable = {
									which = ftm_seller_consumer_goods_transfer
									value = -10000
								}
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_consumer_goods_transfer
										value >= 1000
									}
								}
								add_resource = { consumer_goods = 1000 }
								change_variable = {
									which = ftm_seller_consumer_goods_transfer
									value = -1000
								}				
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_consumer_goods_transfer
										value >= 100
									}
								}
								add_resource = { consumer_goods = 100 }
								change_variable = {
									which = ftm_seller_consumer_goods_transfer
									value = -100
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_consumer_goods_transfer
										value >= 10
									}
								}
								add_resource = { consumer_goods = 10 }
								change_variable = {
									which = ftm_seller_consumer_goods_transfer
									value = -10
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_consumer_goods_transfer
										value >= 1
									}
								}
								add_resource = { consumer_goods = 1 }
								change_variable = {
									which = ftm_seller_consumer_goods_transfer
									value = -1
								}					
							}
							else = {
								#nothing
							}
						}
						log = "[event_target:ftm_transfered_fleet_seller.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] зачислена"
						country_event = { id = ftm_transfer.11 }
					}
					event_target:ftm_transfered_fleet = { 
						set_owner = event_target:ftm_transfered_fleet_buyer
					}
				}
			}
			
			
			# СПЛАВЫ
			if = {
				limit = {
					has_global_flag = ftm_price_in_alloys
				}
				log = "[Root.GetName]: Запуск скрипта проверки наличия сплавов"
				set_variable = {
					which = ftm_buyer_alloys_check_count
					value = 0
				}
				#1
				while = {
					count = 99
					if = {
						limit = {
							resource_stockpile_compare = { resource = alloys value >= 10000 }
						}
						add_resource = { alloys = -10000 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = 10000
						}
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = alloys value >= 1000 }
						}
						add_resource = { alloys = -1000 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = 1000
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = alloys value >= 100 }
						}
						add_resource = { alloys = -100 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = 100
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = alloys value >= 10 }
						}
						add_resource = { alloys = -10 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = 10
						}					
					}
					else_if = {
						limit = {
							resource_stockpile_compare = { resource = alloys value >= 1 }
						}
						add_resource = { alloys = -1 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = 1
						}					
					}
					else = {
						#nothing
					}
				}
				#2
				set_variable = {
					which = ftm_buyer_alloys_current_count
					value = ftm_buyer_alloys_check_count
				}
				#3
				while = {
					count = 99
					if = {
						limit = {
							check_variable = {
								which = ftm_buyer_alloys_check_count
								value >= 10000
							}
						}
						add_resource = { alloys = 10000 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = -10000
						}
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_alloys_check_count
								value >= 1000
							}
						}
						add_resource = { alloys = 1000 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = -1000
						}				
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_alloys_check_count
								value >= 100
							}
						}
						add_resource = { alloys = 100 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = -100
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_alloys_check_count
								value >= 10
							}
						}
						add_resource = { alloys = 10 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = -10
						}					
					}
					else_if = {
						limit = {
							check_variable = {
								which = ftm_buyer_alloys_check_count
								value >= 1
							}
						}
						add_resource = { alloys = 1 }
						change_variable = {
							which = ftm_buyer_alloys_check_count
							value = -1
						}					
					}
					else = {
						#nothing
					}
				}	
				log = "[Root.GetName]: проверка выполнена. Количество сплавов: [Root.ftm_buyer_alloys_current_count]."	
				#4
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_alloys_current_count
							value < ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... ПРОВАЛ. ТРЕБУЕМОЙ СУММЫ НЕТ."
					remove_global_flag = ftm_edict_is_launch
					country_event = { id = ftm_transfer.9 }
					event_target:ftm_transfered_fleet_seller = {
						country_event = { id = ftm_transfer.10 }
					}
				}
				if = {
					limit = {
						check_variable = {
							which = ftm_buyer_alloys_current_count
							value >= ftm_transfered_fleet_cost_buyer
						}
					}
					log = "Проверка наличия у [Root.GetName] необходимой суммы в [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]... УСПЕШНО. СУММА В НАЛИЧИИ."
					remove_global_flag = ftm_edict_is_launch
					set_variable = {
						which = ftm_buyer_alloys_transfer
						value = ftm_transfered_fleet_cost_buyer
					}
					while = {
						count = 99
						if = {
							limit = {
								check_variable = {
									which = ftm_buyer_alloys_transfer
									value >= 10000
								}
							}
							add_resource = { alloys = -10000 }
							change_variable = {
								which = ftm_buyer_alloys_transfer
								value = -10000
							}
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_alloys_transfer
									value >= 1000
								}
							}
							add_resource = { alloys = -1000 }
							change_variable = {
								which = ftm_buyer_alloys_transfer
								value = -1000
							}				
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_alloys_transfer
									value >= 100
								}
							}
							add_resource = { alloys = -100 }
							change_variable = {
								which = ftm_buyer_alloys_transfer
								value = -100
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_alloys_transfer
									value >= 10
								}
							}
							add_resource = { alloys = -10 }
							change_variable = {
								which = ftm_buyer_alloys_transfer
								value = -10
							}					
						}
						else_if = {
							limit = {
								check_variable = {
									which = ftm_buyer_alloys_transfer
									value >= 1
								}
							}
							add_resource = { alloys = -1 }
							change_variable = {
								which = ftm_buyer_alloys_transfer
								value = -1
							}					
						}
						else = {
							#nothing
						}
					}	
					log = "[Root.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] снята"
					country_event = { id = ftm_transfer.12 }
					event_target:ftm_transfered_fleet_seller = {
						set_variable = {
							which = ftm_seller_alloys_transfer
							value = ftm_transfered_fleet_cost
						}
						while = {
							count = 99
							if = {
								limit = {
									check_variable = {
										which = ftm_seller_alloys_transfer
										value >= 10000
									}
								}
								add_resource = { alloys = 10000 }
								change_variable = {
									which = ftm_seller_alloys_transfer
									value = -10000
								}
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_alloys_transfer
										value >= 1000
									}
								}
								add_resource = { alloys = 1000 }
								change_variable = {
									which = ftm_seller_alloys_transfer
									value = -1000
								}				
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_alloys_transfer
										value >= 100
									}
								}
								add_resource = { alloys = 100 }
								change_variable = {
									which = ftm_seller_alloys_transfer
									value = -100
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_alloys_transfer
										value >= 10
									}
								}
								add_resource = { alloys = 10 }
								change_variable = {
									which = ftm_seller_alloys_transfer
									value = -10
								}					
							}
							else_if = {
								limit = {
									check_variable = {
										which = ftm_seller_alloys_transfer
										value >= 1
									}
								}
								add_resource = { alloys = 1 }
								change_variable = {
									which = ftm_seller_alloys_transfer
									value = -1
								}					
							}
							else = {
								#nothing
							}
						}
						log = "[event_target:ftm_transfered_fleet_seller.GetName]: необходимая сумма в размере [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] зачислена"
						country_event = { id = ftm_transfer.11 }
					}
					event_target:ftm_transfered_fleet = { 
						set_owner = event_target:ftm_transfered_fleet_buyer
					}
				}
			}
		}
	}
		
	# отказать
	option = {
		name = ftm_transfer.5.decline
		trigger = {
			OR = {
				is_ai = no
				AND = {
					is_ai = yes
					OR = {
						has_monthly_income = { resource = energy value < 75 }
						has_monthly_income = { resource = alloys value < 25 }
						relative_power = {
							who = event_target:ftm_transfered_fleet_seller
							category = fleet
							value > equivalent
						}
						opinion = {
							who = event_target:ftm_transfered_fleet_seller
							value <= 50
						}
						used_naval_capacity_percent >= 0.8
					}
				}
			}
		}
		hidden_effect = {
			log = "[Root.GetName] отказался купить флот [event_target:ftm_transfered_fleet.GetFleetName] за [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] у империи [event_target:ftm_transfered_fleet_seller.GetName]"
			remove_global_flag = ftm_edict_is_launch
		}
		event_target:ftm_transfered_fleet_seller = {
			country_event = { id = ftm_transfer.6 }
		}
	}
	
}





# 6 - уведомление продавцу что покупатель отказался купить
country_event = {
	id = ftm_transfer.6
	title = "ftm_transfer.6.title"
	desc = "ftm_transfer.6.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# ок
	option = {
		name = ftm_transfer.6.ok
		hidden_effect = {
			log = "[Root.GetName] получил отказ от империи [event_target:ftm_transfered_fleet_buyer.GetName] в покупке флота [event_target:ftm_transfered_fleet.GetFleetName] за [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]"
		}
	}
	
}





# 7 - запрос подтверждения бесплатной передачи флота
country_event = {
	id = ftm_transfer.7
	title = "ftm_transfer.7.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.7.desc_colossus"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.7.desc_juggernaut"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.7.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_transfer.7.desc_mod"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.7.confirm
		custom_tooltip = ftm_transfer.7.confirm.tooltip
		hidden_effect = {
			log = "[Root.GetName] подтверждает передачу флота [event_target:ftm_transfered_fleet.GetFleetName] за бесплатно"
			remove_global_flag = ftm_edict_is_launch
			event_target:ftm_transfered_fleet = { 
				set_owner = event_target:ftm_transfered_fleet_buyer
			}
			event_target:ftm_transfered_fleet_buyer = {
				country_event = { id = ftm_transfer.8 }
			}
			# штраф к отношениям за колосса
			if = {
				limit = {
					event_target:ftm_transfered_fleet = {
						is_ship_class = shipclass_military_special
					}
				}
				every_country = {
					limit = {
						AND = {
							is_country_type = default
							NOT = {
								is_same_value = event_target:ftm_transfered_fleet_buyer
							}
						}
					}
					add_opinion_modifier = {
						who = event_target:ftm_transfered_fleet_seller
						modifier = ftm_colossus_sale
					}
				}
				log = "[ftm_transfered_fleet_seller.GetName] передал колосса [event_target:ftm_transfered_fleet.GetFleetName] и получает штраф к отношениям"
			}
			# бонус к отношениям за подарок
			event_target:ftm_transfered_fleet_seller = {
				set_variable = {
					which = ftm_free_bonus
					value = ftm_transfered_fleet_corvette_count
				}
				while = {
					count = 2 
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_destroyer_count
					}
				}
				while = {
					count = 4
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_cruiser_count
					}
				}
				while = {
					count = 8
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_battleship_count
					}
				}
				while = {
					count = 16
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_titan_count
					}
				}
				while = {
					count = 50
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_juggernaut_count
					}
				}
				while = {
					count = 100
					change_variable = {
						which = ftm_free_bonus
						value = ftm_transfered_fleet_colossus_count
					}
				}
				log = "[ftm_transfered_fleet_seller.GetName] получает бонус за бесплатную передачу флотилии [event_target:ftm_transfered_fleet.GetFleetName]: отношение получателя +[ftm_transfered_fleet_seller.ftm_free_bonus]"
				
				while = {
					count = 100
					if = {
						limit = {
							check_variable = {
								which = ftm_free_bonus
								value > 0
							}
						}
						event_target:ftm_transfered_fleet_buyer = {
							add_opinion_modifier = {
								who = event_target:ftm_transfered_fleet_seller
								modifier = ftm_free_fleet
							}
						}
						change_variable = {
							which = ftm_free_bonus
							value = -1
						}
					}
				}
			}
			
			
		}
	}
		
	# отказаться
	option = {
		name = ftm_transfer.1.nope
		hidden_effect = {
			log = "[Root.GetName] выбрал передумал передавать флот [event_target:ftm_transfered_fleet.GetFleetName] за бесплатно"
			remove_global_flag = ftm_edict_is_launch
		}
	}
	
}





# 8 - уведомление получателю флота о подарке
country_event = {
	id = ftm_transfer.8
	title = "ftm_transfer.8.title"
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.8.desc_colossus"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.8.desc_juggernaut"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.8.desc"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
		}
		text = "ftm_transfer.8.desc_mod"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.8.ok
		hidden_effect = {
			log = "[Root.GetName] получает флот [event_target:ftm_transfered_fleet.GetFleetName] за бесплатно"
		}
	}
	
}





# 9 - уведомление покупателю о нехватке денег для покупки
country_event = {
	id = ftm_transfer.9
	title = "ftm_transfer.9.title"
	desc = "ftm_transfer.9.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.9.ok
		hidden_effect = {
			log = "[Root.GetName] хочет купить флот [event_target:ftm_transfered_fleet.GetFleetName] за [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost] у империи [event_target:ftm_transfered_fleet_seller.GetName], но у него нет денег"
		}
	}
	
}





# 10 - уведомление продавцу о нехватке денег у покупателя
country_event = {
	id = ftm_transfer.10
	title = "ftm_transfer.10.title"
	desc = "ftm_transfer.10.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.10.ok
		hidden_effect = {
			log = "сделка [Root.GetName] по продаже империи [event_target:ftm_transfered_fleet_buyer.GetName] флота [event_target:ftm_transfered_fleet.GetFleetName] за [Root.ftm_transfered_fleet_cost] сорвалась, так как у тех нет денег"
		}
	}
}





# 11 - уведомление продавцу о совершенной сделке
country_event = {
	id = ftm_transfer.11
	title = "ftm_transfer.11.title"
	# normal
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.11.desc_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.11.desc_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.11.desc_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.11.desc_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.11.desc_alloys"
	}
	# jugger
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.11.desc_juggernaut_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.11.desc_juggernaut_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.11.desc_juggernaut_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.11.desc_juggernaut_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.11.desc_juggernaut_alloys"
	}
	# colossus
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.11.desc_colossus_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.11.desc_colossus_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.11.desc_colossus_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.11.desc_colossus_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.11.desc_colossus_alloys"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.11.desc_mod_energy"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.11.desc_mod_minerals"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.11.desc_mod_food"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.11.desc_mod_goods"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.11.desc_mod_alloys"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
	
	immediate = {
		if = {
			limit = {
				event_target:ftm_transfered_fleet = {
					is_ship_class = shipclass_military_special
				}
			}
			every_country = {
				limit = {
					AND = {
						is_country_type = default
						NOT = {
							is_same_value = event_target:ftm_transfered_fleet_buyer
						}
					}
				}
				add_opinion_modifier = {
					who = event_target:ftm_transfered_fleet_seller
					modifier = ftm_colossus_sale
				}
			}
			log = "[ftm_transfered_fleet_seller.GetName] продал колосса [event_target:ftm_transfered_fleet.GetFleetName] и получает штраф к отношениям"
		}
	}
	
	# подтвердить
	option = {
		name = ftm_transfer.11.ok
		hidden_effect = {
			log = "[Root.GetName] успешно продал империи [event_target:ftm_transfered_fleet_buyer.GetName] флот [event_target:ftm_transfered_fleet.GetFleetName] за [Root.ftm_transfered_fleet_cost]"
		}
	}
}





# 12 - уведомление покупателю о совершенной сделке
country_event = {
	id = ftm_transfer.12
	title = "ftm_transfer.12.title"
	# normal
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.12.desc_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.12.desc_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.12.desc_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.12.desc_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.12.desc_alloys"
	}
	# jugger
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.12.desc_juggernaut_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.12.desc_juggernaut_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.12.desc_juggernaut_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.12.desc_juggernaut_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.12.desc_juggernaut_alloys"
	}
	# colossus
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.12.desc_colossus_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.12.desc_colossus_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.12.desc_colossus_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.12.desc_colossus_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.12.desc_colossus_alloys"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.12.desc_mod_energy"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.12.desc_mod_minerals"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.12.desc_mod_food"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.12.desc_mod_goods"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.12.desc_mod_alloys"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet
		
	# подтвердить
	option = {
		name = ftm_transfer.12.ok
		hidden_effect = {
			log = "[Root.GetName] успешно купил у империи [event_target:ftm_transfered_fleet_seller.GetName] флот [event_target:ftm_transfered_fleet.GetFleetName] за [event_target:ftm_transfered_fleet_seller.ftm_transfered_fleet_cost]"
		}
	}
	
}





# 13 - показ возможных цен (после 2)
country_event = {
	id = ftm_transfer.13
	title = "ftm_transfer.13.title"
	# normal
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.13.desc_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.13.desc_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.13.desc_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.13.desc_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				NOT = {
					OR = {
						is_ship_class = shipclass_military_special
						is_ship_class = shipclass_starbase
					}
				}
			}
		}
		text = "ftm_transfer.13.desc_alloys"
	}
	# jugger
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.13.desc_juggernaut_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.13.desc_juggernaut_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.13.desc_juggernaut_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.13.desc_juggernaut_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_starbase
			}
		}
		text = "ftm_transfer.13.desc_juggernaut_alloys"
	}
	# colossus
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_energy
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.13.desc_colossus_energy"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_minerals
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.13.desc_colossus_minerals"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_food
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.13.desc_colossus_food"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_goods
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.13.desc_colossus_goods"
	}
	desc = {
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
			has_global_flag = ftm_price_in_alloys
			event_target:ftm_transfered_fleet = {
				is_ship_class = shipclass_military_special
			}
		}
		text = "ftm_transfer.13.desc_colossus_alloys"
	}
	# mods
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.13.desc_mod_energy"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.13.desc_mod_minerals"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.13.desc_mod_food"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.13.desc_mod_goods"
	}
	desc = {
		trigger = {
			ftm_comparible_mods_flags = yes
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.13.desc_mod_alloys"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	location = event_target:ftm_transfered_fleet

	# 25%
	option = {
		name = ftm_transfer.13.25
		custom_tooltip = ftm_transfer.13.25.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_25
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_25_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 25%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 50%
	option = {
		name = ftm_transfer.13.50
		custom_tooltip = ftm_transfer.13.50.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_50
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_50_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 50%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 75%
	option = {
		name = ftm_transfer.13.75
		custom_tooltip = ftm_transfer.13.75.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_75
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_75_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 75%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 100%
	option = {
		name = ftm_transfer.13.100
		custom_tooltip = ftm_transfer.13.100.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_100
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_100_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 100%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 125%
	option = {
		name = ftm_transfer.13.125
		custom_tooltip = ftm_transfer.13.125.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_125
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_125_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 125%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 150%
	option = {
		name = ftm_transfer.13.150
		custom_tooltip = ftm_transfer.13.150.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_150
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_150_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 150%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 175%
	option = {
		name = ftm_transfer.13.175
		custom_tooltip = ftm_transfer.13.175.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_175
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_175_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 175%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# 200%
	option = {
		name = ftm_transfer.13.200
		custom_tooltip = ftm_transfer.13.200.tooltip
		trigger = {
			NOT = {
				ftm_comparible_mods_flags = yes
			}
		}
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_200
			}
			country_event = { id = ftm_transfer.3 }
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_200_buyer
				}
			}
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за 200%. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}

	# ВРУЧНУЮ
	option = {
		name = ftm_transfer.13.manual
		custom_tooltip = ftm_transfer.13.manual.tooltip
		hidden_effect = {
			country_event = { id = ftm_transfer.15 }
			set_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = ftm_transfered_fleet_cost_100
			}
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = ftm_transfered_fleet_cost_100_buyer
				}
			}
			if = {
				limit = {
					ftm_comparible_mods_flags = yes
				}
				set_variable = {
					which = ftm_transfered_fleet_cost_manual
					value = 100
				}
				event_target:ftm_transfered_fleet_buyer = {
					set_variable = {
						which = ftm_transfered_fleet_cost_manual_buyer
						value = 100
					}
				}				
			}
			log = "[Root.GetName] выбирает ручную настройку цены флота [event_target:ftm_transfered_fleet.GetFleetName]. Начальная цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
}





# 14 - сообщение что другой игрок уже передает флот
country_event = {
	id = ftm_transfer.14
	title = "ftm_transfer.14.title"
	desc = "ftm_transfer.14.desc"
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	option = {
		name = ftm_transfer.14.ok
		hidden_effect = {
			log = "[Root.GetName] пытался запустить меню передачи флота, но оно пока что занято империей [event_target:ftm_transfered_fleet_seller.GetName]"
		}
	}
}





# 15 - ручная настройка цены
country_event = {
	id = ftm_transfer.15
	title = "ftm_transfer.15.title"
	desc = {
		trigger = {
			has_global_flag = ftm_price_in_energy
		}
		text = "ftm_transfer.15.desc_energy"
	}
	desc = {
		trigger = {
			has_global_flag = ftm_price_in_minerals
		}
		text = "ftm_transfer.15.desc_minerals"
	}
	desc = {
		trigger = {
			has_global_flag = ftm_price_in_food
		}
		text = "ftm_transfer.15.desc_food"
	}
	desc = {
		trigger = {
			has_global_flag = ftm_price_in_goods
		}
		text = "ftm_transfer.15.desc_goods"
	}
	desc = {
		trigger = {
			has_global_flag = ftm_price_in_alloys
		}
		text = "ftm_transfer.15.desc_alloys"
	}
	picture = GFX_evt_federation_fleet 
	is_triggered_only = yes
	
	# -10000
	option = {
		name = ftm_transfer.15.minus10000
		custom_tooltip = ftm_transfer.15.minus10000.tooltip
		trigger = {
			check_variable = {
				which = ftm_transfered_fleet_cost_manual
				value >= 10001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = -10000
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = -10000
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] снижает цену на 10000 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# -1000
	option = {
		name = ftm_transfer.15.minus1000
		custom_tooltip = ftm_transfer.15.minus1000.tooltip
		trigger = {
			check_variable = {
				which = ftm_transfered_fleet_cost_manual
				value >= 1001
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = -1000
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = -1000
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] снижает цену на 1000 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# -100
	option = {
		name = ftm_transfer.15.minus100
		custom_tooltip = ftm_transfer.15.minus100.tooltip
		trigger = {
			check_variable = {
				which = ftm_transfered_fleet_cost_manual
				value >= 101
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = -100
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = -100
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] снижает цену на 100 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# -10
	option = {
		name = ftm_transfer.15.minus10
		custom_tooltip = ftm_transfer.15.minus10.tooltip
		trigger = {
			check_variable = {
				which = ftm_transfered_fleet_cost_manual
				value >= 11
			}
		}
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = -10
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = -10
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] снижает цену на 10 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# +10
	option = {
		name = ftm_transfer.15.plus10
		custom_tooltip = ftm_transfer.15.plus10.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = 10
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = 10
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] увеличивает цену на 10 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# +100
	option = {
		name = ftm_transfer.15.plus100
		custom_tooltip = ftm_transfer.15.plus100.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = 100
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = 100
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] увеличивает цену на 100 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# +1000
	option = {
		name = ftm_transfer.15.plus1000
		custom_tooltip = ftm_transfer.15.plus1000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = 1000
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = 1000
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] увеличивает цену на 1000 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# +10000
	option = {
		name = ftm_transfer.15.plus10000
		custom_tooltip = ftm_transfer.15.plus10000.tooltip
		hidden_effect = {
			change_variable = {
				which = ftm_transfered_fleet_cost_manual
				value = 10000
			}
			event_target:ftm_transfered_fleet_buyer = {
				change_variable = {
					which = ftm_transfered_fleet_cost_manual_buyer
					value = 10000
				}
			}
			country_event = { id = ftm_transfer.15 }
			log = "[event_target:ftm_transfered_fleet_seller.GetName] увеличивает цену на 10000 единиц. Текущая цена: [Root.ftm_transfered_fleet_cost_manual]"
		}
	}
	
	# done
	option = {
		name = ftm_transfer.15.done
		custom_tooltip = ftm_transfer.15.done.tooltip
		hidden_effect = {
			set_variable = {
				which = ftm_transfered_fleet_cost
				value = ftm_transfered_fleet_cost_manual
			}
			event_target:ftm_transfered_fleet_buyer = {
				set_variable = {
					which = ftm_transfered_fleet_cost_buyer
					value = ftm_transfered_fleet_cost_manual_buyer
				}
			}
			country_event = { id = ftm_transfer.3 }
			log = "[Root.GetName] предлагает флот [event_target:ftm_transfered_fleet.GetFleetName] империи [event_target:ftm_transfered_fleet_buyer.GetName] за свою цену. Цена сделки: [Root.ftm_transfered_fleet_cost]. Нужно подтверждение"
		}
	}
}










# 900 - присвоение глобал флага
event = {
	id = ftm_transfer.900
	hide_window = yes	
	is_triggered_only = yes
	
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_global_flag = ftm_mod_active
				}
			}
			log = "ФЛАГ МОДА: ОТСУТСТВУЕТ"
			set_global_flag = ftm_mod_active
			log = "ФЛАГ МОДА: СОЗДАН"
		}
	}
}




















# 999 - окно настроек
country_event = {
	id = ftm_transfer.999
	title = "ftm_transfer.999.title"
	desc = "ftm_transfer.999.desc"
	picture = GFX_evt_fleet_from_surface
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetName] открывает окно настроек"
	}	
	
	option = {
		name = ftm_transfer.999.types
		custom_tooltip = ftm_transfer.999.types.tooltip
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
		}
	}
	
	option = {
		name = ftm_transfer.999.ai_sale
		custom_tooltip = ftm_transfer.999.ai_sale.tooltip
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
		}
	}
	
	option = {
		name = ftm_transfer.999.ai_buy
		custom_tooltip = ftm_transfer.999.ai_buy.tooltip
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
		}
	}
	
	option = {
		name = ftm_transfer.999.close
	}
	
	option = {
		name = ftm_transfer.999.BEBUG
		trigger = {
			OR = {
				NOT = {
					exists = event_target:ftm_auction_country
				}
				NOT = {
					exists = event_target:ftm_market_country
				}
				NOT = {
					exists = event_target:ftm_rent_country
				}
			}
		}
		custom_tooltip = ftm_transfer.999.BEBUG.tooltip
		hidden_effect = {
			country_event = { id = ftm_transfer.998 }
		}
	}
}



# 991 - настройка возможностей
country_event = {
	id = ftm_transfer.991
	title = "ftm_transfer.991.title"
	desc = "ftm_transfer.991.desc"
	picture = GFX_evt_fleet_from_surface
	is_triggered_only = yes
	
	option = {
		name = ftm_transfer.991.transfer
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
		}
	}
	
	option = {
		name = ftm_transfer.991.market_on
		trigger = {
			NOT = {
				has_global_flag = ftm_market_not_can_use
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			set_global_flag = ftm_market_not_can_use
			set_global_flag = ftm_market_not_can_use_ai_sale
			set_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.market_off
		trigger = {
			has_global_flag = ftm_market_not_can_use
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			remove_global_flag = ftm_market_not_can_use
			remove_global_flag = ftm_market_not_can_use_ai_sale
			remove_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.rent_on
		trigger = {
			NOT = {
				has_global_flag = ftm_rent_not_can_use
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			set_global_flag = ftm_rent_not_can_use
			set_global_flag = ftm_rent_not_can_use_ai_sale
			set_global_flag = ftm_rent_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.rent_off
		trigger = {
			has_global_flag = ftm_rent_not_can_use
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			remove_global_flag = ftm_rent_not_can_use
			remove_global_flag = ftm_rent_not_can_use_ai_sale
			remove_global_flag = ftm_rent_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.auction_on
		trigger = {
			NOT = {
				has_global_flag = ftm_auction_not_can_use
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			set_global_flag = ftm_auction_not_can_use
			set_global_flag = ftm_auction_not_can_use_ai_sale
			set_global_flag = ftm_auction_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.auction_off
		trigger = {
			has_global_flag = ftm_auction_not_can_use
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.991 }
			remove_global_flag = ftm_auction_not_can_use
			remove_global_flag = ftm_auction_not_can_use_ai_sale
			remove_global_flag = ftm_auction_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.991.back
		hidden_effect = {
			country_event = { id = ftm_transfer.999 }
		}
	}
}



# 992 - ИИ: продажа
country_event = {
	id = ftm_transfer.992
	title = "ftm_transfer.992.title"
	desc = "ftm_transfer.992.desc"
	picture = GFX_evt_fleet_from_surface
	is_triggered_only = yes
	
	option = {
		name = ftm_transfer.992.market_on
		trigger = {
			NOT = {
				has_global_flag = ftm_market_not_can_use_ai_sale
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			set_global_flag = ftm_market_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.market_off
		trigger = {
			has_global_flag = ftm_market_not_can_use_ai_sale
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			remove_global_flag = ftm_market_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.rent_on
		trigger = {
			NOT = {
				has_global_flag = ftm_rent_not_can_use_ai_sale
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			set_global_flag = ftm_rent_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.rent_off
		trigger = {
			has_global_flag = ftm_rent_not_can_use_ai_sale
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			remove_global_flag = ftm_rent_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.auction_on
		trigger = {
			NOT = {
				has_global_flag = ftm_auction_not_can_use_ai_sale
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			set_global_flag = ftm_auction_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.auction_off
		trigger = {
			has_global_flag = ftm_auction_not_can_use_ai_sale
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.992 }
			remove_global_flag = ftm_auction_not_can_use_ai_sale
		}
	}
	
	option = {
		name = ftm_transfer.992.back
		hidden_effect = {
			country_event = { id = ftm_transfer.999 }
		}
	}
}



# 993 - ИИ: покупка
country_event = {
	id = ftm_transfer.993
	title = "ftm_transfer.993.title"
	desc = "ftm_transfer.993.desc"
	picture = GFX_evt_fleet_from_surface
	is_triggered_only = yes
	
	option = {
		name = ftm_transfer.993.market_on
		trigger = {
			NOT = {
				has_global_flag = ftm_market_not_can_use_ai_buy
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			set_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.market_off
		trigger = {
			has_global_flag = ftm_market_not_can_use_ai_buy
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			remove_global_flag = ftm_market_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.rent_on
		trigger = {
			NOT = {
				has_global_flag = ftm_rent_not_can_use_ai_buy
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			set_global_flag = ftm_rent_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.rent_off
		trigger = {
			has_global_flag = ftm_rent_not_can_use_ai_buy
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			remove_global_flag = ftm_rent_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.auction_on
		trigger = {
			NOT = {
				has_global_flag = ftm_auction_not_can_use_ai_buy
			}
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			set_global_flag = ftm_auction_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.auction_off
		trigger = {
			has_global_flag = ftm_auction_not_can_use_ai_buy
		}
		hidden_effect = {
			country_event = { id = ftm_transfer.993 }
			remove_global_flag = ftm_auction_not_can_use_ai_buy
		}
	}
	
	option = {
		name = ftm_transfer.993.back
		hidden_effect = {
			country_event = { id = ftm_transfer.999 }
		}
	}
}





# 998 - пересоздание империй мода
country_event = {
	id = ftm_transfer.998
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.GetName]: ПЕРЕЗАПУСК МОДА"
		if = {
			limit = {
				NOT = {
					exists = event_target:ftm_auction_country
				}
			}
			log = "АУКЦИОН: ОТСУТСТВУЕТ"
			country_event = { id = ftm_auction.900 }
		}
		if = {
			limit = {
				NOT = {
					exists = event_target:ftm_market_country
				}
			}
			log = "РЫНОК: ОТСУТСТВУЕТ"
			country_event = { id = ftm_market.900 }
		}
		if = {
			limit = {
				NOT = {
					exists = event_target:ftm_rent_country
				}
			}
			log = "АРЕНДА: ОТСУТСТВУЕТ"
			country_event = { id = ftm_rent.900 }
		}
		if = {
			limit = {
				NOT = {
					has_global_flag = ftm_mod_active
				}
			}
			log = "ФЛАГ МОДА: ОТСУТСТВУЕТ"
			set_global_flag = ftm_mod_active
			log = "ФЛАГ МОДА: СОЗДАН"
		}
		
	}
}














# 901 - Окно выбора функций мода для модменю
country_event = {
	id = ftm_transfer.901
	title = "ftm_transfer.901.title"
	desc = "ftm_transfer.901.desc"
	picture = GFX_evt_fleet_from_surface
	is_triggered_only = yes
	
	option = {
		name = ftm_transfer.901.transfer
		hidden_effect = {
			if = {
				limit = {
					has_global_flag = ftm_edict_is_launch
				}
				country_event = { id = ftm_transfer.14 }
			}
			if = {
				limit = {
					NOT = {
						has_global_flag = ftm_edict_is_launch
					}
				}
				country_event = { id = ftm_transfer.1 }
			}
		}
	}
	
	option = {
		name = ftm_transfer.901.market
		trigger = {
			NOT = { has_global_flag = ftm_market_not_can_use }
		}
		hidden_effect = {
			country_event = { id = ftm_market.999 }
		}
	}
	
	option = {
		name = ftm_transfer.901.rent
		trigger = {
			NOT = { has_global_flag = ftm_rent_not_can_use }
		}
		hidden_effect = {
			country_event = { id = ftm_rent.999 }
		}
	}
	
	option = {
		name = ftm_transfer.901.auction
		trigger = {
			NOT = { has_global_flag = ftm_auction_not_can_use }
		}
		hidden_effect = {
			country_event = { id = ftm_auction.999 }
		}
	}
	
	option = {
		name = ftm_transfer.901.settings
		hidden_effect = {
			country_event = { id = ftm_transfer.999 }
		}
	}
	
	option = {
		name = ftm_transfer.901.close
		hidden_effect = {
			# close
		}
	}
}





# 902 - присвоение спецфлага серверу
country_event = {
	id = ftm_transfer.902
	hide_window = yes
	is_triggered_only = yes
			
	trigger = {
		is_ai = no
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					any_country = {
						has_country_flag = ftm_server_country
					}
				}
			}
			set_country_flag = ftm_server_country			
		}
	}
}