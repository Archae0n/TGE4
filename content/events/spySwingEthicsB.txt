namespace = swingEthicsBeta

country_event = {   
	id = swingEthicsBeta.1 
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		random_list = {
			50 = {
					country_event = { id = swingEthicsBeta.2 } #FULL SUCCESS
			}
			50 = {
					country_event = { id = swingEthicsBeta.3 } #PARTIAL SUCCESS
			}
		}
		
	}
}


#### FULL SUCCESS ####
country_event = {
	id = swingEthicsBeta.2
	is_triggered_only = yes
	title = "swingEthicsSuccess2.title"
	desc = {
		trigger = {
			has_country_flag = swingAuthoritarian2
		}
		text = "swingEthicsSuccessAuthoritarian2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingEgalitarian2
		}
		text = "swingEthicsSuccessEgalitarian2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingMaterialist2
		}
		text = "swingEthicsSuccessMaterialist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingMilitarist2
		}
		text = "swingEthicsSuccessMilitarist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingPacifist2
		}
		text = "swingEthicsSuccessPacifist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingSpiritualist2
		}
		text = "swingEthicsSuccessSpiritualist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingXenophile2
		}
		text = "swingEthicsSuccessXenophile2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingXenophobe2
		}
		text = "swingEthicsSuccessXenophobe2.desc"
	}
	show_sound = event_conversation
   picture = GFX_evt_alien_propaganda


	immediate = {
		save_event_target_as = playerAgency
		event_target:betaNetworkTarget_temp = {
			if = {
            limit = {
               has_country_flag = swingAuthoritarian2
            }
				add_modifier = {
					modifier = spy_swingAuthoritarian_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingEgalitarian2
            }
				add_modifier = {
					modifier = spy_swingEgalitarian_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingMaterialist2
            }
				add_modifier = {
					modifier = spy_swingMaterialist_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingMilitarist2
            }
				add_modifier = {
					modifier = spy_swingMilitarist_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingPacifist2
            }
				add_modifier = {
					modifier = spy_swingPacifist_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingSpiritualist2
            }
				add_modifier = {
					modifier = spy_swingSpiritualist_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingXenophile2
            }
				add_modifier = {
					modifier = spy_swingXenophile_high
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingXenophobe2
            }
				add_modifier = {
					modifier = spy_swingXenophobe_high
					days = @swingEthicLength
				}
			}
		}
	}  
   
	option = { #REDO
		name = sabotageRepSuccess.a
		custom_tooltip = pointsRequiredBeta.tooltip
		allow = {
			hidden_trigger = {
				has_resource = { type = sr_beta_points amount >= @operationCostCheck } 
			}
		}
		hidden_effect = {
			removeGatherProgress_Beta_F = yes
			country_event = {
				id = progressTrackerB.1
			}
		}
	}

	option = { #RETURN TO INTEL GATHERING
		name = sabotageRepSuccess.b
		hidden_effect = {
			removeSwingEthicsFlags_Beta = yes
			set_country_flag = gatherIntelBeta	  
			country_event = {
				id = progressTrackerB.1
			}
		}
	}  
}


#### PARTIAL SUCCESS ####
country_event = {
	id = swingEthicsBeta.3
	is_triggered_only = yes
	title = "swingEthicsSuccessPartial2.title"
	desc = {
		trigger = {
			has_country_flag = swingAuthoritarian2
		}
		text = "swingEthicsSuccessPartialAuthoritarian2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingEgalitarian2
		}
		text = "swingEthicsSuccessPartialEgalitarian2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingMaterialist2
		}
		text = "swingEthicsSuccessPartialMaterialist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingMilitarist2
		}
		text = "swingEthicsSuccessPartialMilitarist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingPacifist2
		}
		text = "swingEthicsSuccessPartialPacifist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingSpiritualist2
		}
		text = "swingEthicsSuccessPartialSpiritualist2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingXenophile2
		}
		text = "swingEthicsSuccessPartialXenophile2.desc"
	}
	desc = {
		trigger = {
			has_country_flag = swingXenophobe2
		}
		text = "swingEthicsSuccessPartialXenophobe2.desc"
	}
	show_sound = event_conversation
   picture = GFX_evt_alien_propaganda


	immediate = {
		save_event_target_as = playerAgency
		event_target:betaNetworkTarget_temp = {
			if = {
            limit = {
               has_country_flag = swingAuthoritarian2
            }
				add_modifier = {
					modifier = spy_swingAuthoritarian
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingEgalitarian2
            }
				add_modifier = {
					modifier = spy_swingEgalitarian
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingMaterialist2
            }
				add_modifier = {
					modifier = spy_swingMaterialist
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingMilitarist2
            }
				add_modifier = {
					modifier = spy_swingMilitarist
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingPacifist2
            }
				add_modifier = {
					modifier = spy_swingPacifist
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingSpiritualist2
            }
				add_modifier = {
					modifier = spy_swingSpiritualist
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingXenophile2
            }
				add_modifier = {
					modifier = spy_swingXenophile
					days = @swingEthicLength
				}
			}
			else_if = {
            limit = {
               has_country_flag = swingXenophobe2
            }
				add_modifier = {
					modifier = spy_swingXenophobe
					days = @swingEthicLength
				}
			}
		}
	} 
	option = { #REDO
		name = sabotageRepSuccess.a
		custom_tooltip = pointsRequiredBeta.tooltip
		allow = {
			hidden_trigger = {
				has_resource = { type = sr_beta_points amount >= @operationCostCheck } 
			}	
		}
		hidden_effect = {
			removeGatherProgress_Beta_F = yes
			country_event = {
				id = progressTrackerB.1
			}
		}
	}


	option = { #RETURN TO INTEL GATHERING
		name = sabotageRepSuccess.b
		hidden_effect = {
			removeSwingEthicsFlags_Beta = yes
			set_country_flag = gatherIntelBeta
			country_event = {
				id = progressTrackerB.1
			}
		}
	}
}
